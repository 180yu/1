{{ $page := . }}

{{ $pagetitle := $page.Title | markdownify | plainify }}
{{ $sitetitle := site.Title | markdownify | plainify }}
{{ $title := "" }}

{{ if and $pagetitle $sitetitle }}
    {{ if $page.IsHome }}
        {{ $title = $pagetitle }}
    {{ else }}
        {{ $title = printf "%s Â· %s" $pagetitle $sitetitle }}
    {{ end }}
{{ else if $pagetitle }}
    {{ $title = $pagetitle }}
{{ else if $sitetitle }}
    {{ $title = $sitetitle }}
{{ end }}

<head>
    {{ if templates.Exists "partials/paige/head-first.html" }}
        {{ partial "paige/head-first.html" $page }}
    {{ end }}

    {{ partial "paige/metas.html" $page }}

    <title>{{ $title }}</title>

    {{ partial "paige/links.html" $page }}
    {{ partial "paige/style.html" $page }}

    {{ if templates.Exists "partials/paige/head-last.html" }}
        {{ partial "paige/head-last.html" $page }}
    {{ end }}
</head>
