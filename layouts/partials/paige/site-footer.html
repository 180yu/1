{{ $page := . }}

{{ $copyright := site.Copyright | markdownify }}
{{ $credit := $page.Param "paige.credit" }}
{{ $first := templates.Exists "partials/paige/footer-first.html" }}
{{ $last := templates.Exists "partials/paige/footer-last.html" }}
{{ $theme := "https://github.com/willfaught/paige" }}
{{ $license := $page.Param "paige.license" | markdownify }}

{{ $target := partial "paige/target.html" (dict "page" $page "url" $theme) }}

{{ if eq $credit nil }}
    {{ $credit = `<a class="link-secondary text-decoration-none" href="https://github.com/willfaught/paige">Paige Theme</a>` | markdownify }}
{{ else }}
    {{ $credit = markdownify $credit }}
{{ end }}

{{ if or $copyright $credit $first $last $license }}
    <footer class="my-3" id="paige-site-footer">
        {{ if $first }}
            {{ partial "paige/footer-first.html" . }}
        {{ end }}

        {{ with $copyright }}
            <p class="mb-0 text-center text-secondary" id="paige-copyright">{{ . }}</p>
        {{ end }}

        {{ with $license }}
            <p class="mb-0 text-center text-secondary" id="paige-license">{{ . }}</p>
        {{ end }}

        {{ with $credit }}
            <p class="mb-0 text-center text-secondary" id="paige-credit">{{ . }}</p>
        {{ end }}

        {{ if $last }}
            {{ partial "paige/footer-last.html" . }}
        {{ end }}
    </footer>
{{ end }}
