{{ $page := . }}

{{ $itemattrs := slice }}
{{ $microdata := $page.Params.paige.page.microdata }}

{{ range $k, $v := $microdata }}
    {{ $itemattrs = $itemattrs | append (printf `%s="%v"` $k $v) }}
{{ end }}

{{ $itemattrs = delimit (sort $itemattrs) " " }}

<!doctype html>
{{ partial "paige/tag-html.html" $page }}
    {{ partial "paige/tag-head.html" $page }}
    {{ partial "paige/tag-body.html" $page }}
        {{ if templates.Exists "partials/paige/body-first.html" }}
            {{ partial "paige/body-first.html" $page }}
        {{ end }}

        <div class="container">
            <div class="row">
                <div class="col mt-3" id="paige-site" {{ with $itemattrs }} {{ $itemattrs | safeHTMLAttr }} {{ end }}>
                    {{ if templates.Exists "partials/paige/site-first.html" }}
                        {{ partial "paige/site-first.html" $page }}
                    {{ end }}

                    {{ partial "paige/site-header.html" $page }}
                    {{ block "main" $page }}{{ end }}
                    {{ partial "paige/site-footer.html" $page }}

                    {{ if templates.Exists "partials/paige/site-last.html" }}
                        {{ partial "paige/site-last.html" $page }}
                    {{ end }}
                </div>
            </div>
        </div>

        {{ partial "paige/scripts.html" $page }}

        {{ if templates.Exists "partials/paige/body-last.html" }}
            {{ partial "paige/body-last.html" $page }}
        {{ end }}
    </body>
</html>
